
function calcDMA(zipcode){
const dma819 = [98001 ,
98002	,
98003	,
98004	,
98005	,
98006	,
98007	,
98008	,
98009	,
98010	,
98011	,
98012	,
98013	,
98014	,
98015	,
98019	,
98020	,
98021	,
98022	,
98023	,
98024	,
98025	,
98026	,
98027	,
98028	,
98029	,
98030	,
98031	,
98032	,
98033	,
98034	,
98035	,
98036	,
98037	,
98038	,
98039	,
98040	,
98041	,
98042	,
98043	,
98045	,
98046	,
98047	,
98050	,
98051	,
98052	,
98053	,
98054	,
98055	,
98056	,
98057	,
98058	,
98059	,
98061	,
98062	,
98063	,
98064	,
98065	,
98070	,
98071	,
98072	,
98073	,
98074	,
98075	,
98077	,
98082	,
98083	,
98087	,
98089	,
98092	,
98093	,
98101	,
98102	,
98103	,
98104	,
98105	,
98106	,
98107	,
98108	,
98109	,
98110	,
98111	,
98112	,
98113	,
98114	,
98115	,
98116	,
98117	,
98118	,
98119	,
98121	,
98122	,
98124	,
98125	,
98126	,
98127	,
98129	,
98133	,
98134	,
98136	,
98138	,
98139	,
98141	,
98144	,
98145	,
98146	,
98148	,
98151	,
98154	,
98155	,
98158	,
98160	,
98161	,
98164	,
98165	,
98166	,
98168	,
98170	,
98174	,
98175	,
98177	,
98178	,
98181	,
98184	,
98185	,
98188	,
98190	,
98191	,
98194	,
98195	,
98198	,
98199	,
98201	,
98203	,
98204	,
98205	,
98206	,
98207	,
98208	,
98213	,
98220	,
98221	,
98222	,
98223	,
98224	,
98225	,
98226	,
98227	,
98228	,
98229	,
98230	,
98231	,
98232	,
98233	,
98235	,
98236	,
98237	,
98238	,
98239	,
98240	,
98241	,
98243	,
98244	,
98245	,
98247	,
98248	,
98249	,
98250	,
98251	,
98252	,
98253	,
98255	,
98256	,
98257	,
98258	,
98259	,
98260	,
98261	,
98262	,
98263	,
98264	,
98266	,
98267	,
98270	,
98271	,
98272	,
98273	,
98274	,
98275	,
98276	,
98277	,
98278	,
98279	,
98280	,
98281	,
98282	,
98283	,
98284	,
98286	,
98287	,
98288	,
98290	,
98291	,
98292	,
98293	,
98294	,
98295	,
98296	,
98297	,
98303	,
98304	,
98305	,
98310	,
98311	,
98312	,
98314	,
98315	,
98320	,
98321	,
98322	,
98323	,
98324	,
98325	,
98326	,
98327	,
98328	,
98329	,
98330	,
98331	,
98332	,
98333	,
98335	,
98336	,
98337	,
98338	,
98339	,
98340	,
98342	,
98343	,
98344	,
98345	,
98346	,
98348	,
98349	,
98350	,
98351	,
98352	,
98353	,
98354	,
98355	,
98356	,
98357	,
98358	,
98359	,
98360	,
98361	,
98362	,
98363	,
98364	,
98365	,
98366	,
98367	,
98368	,
98370	,
98371	,
98372	,
98373	,
98374	,
98375	,
98376	,
98377	,
98378	,
98380	,
98381	,
98382	,
98383	,
98384	,
98385	,
98386	,
98387	,
98388	,
98390	,
98391	,
98392	,
98393	,
98394	,
98395	,
98396	,
98397	,
98398	,
98401	,
98402	,
98403	,
98404	,
98405	,
98406	,
98407	,
98408	,
98409	,
98411	,
98412	,
98415	,
98416	,
98417	,
98418	,
98419	,
98421	,
98422	,
98424	,
98430	,
98431	,
98433	,
98438	,
98439	,
98442	,
98443	,
98444	,
98445	,
98446	,
98447	,
98448	,
98450	,
98455	,
98460	,
98464	,
98465	,
98466	,
98467	,
98477	,
98481	,
98490	,
98492	,
98493	,
98496	,
98497	,
98498	,
98499	,
98501	,
98502	,
98503	,
98504	,
98505	,
98506	,
98507	,
98508	,
98509	,
98511	,
98512	,
98513	,
98516	,
98520	,
98522	,
98524	,
98526	,
98527	,
98528	,
98530	,
98531	,
98532	,
98533	,
98535	,
98536	,
98537	,
98538	,
98539	,
98540	,
98541	,
98542	,
98544	,
98546	,
98547	,
98548	,
98550	,
98552	,
98554	,
98555	,
98556	,
98557	,
98558	,
98559	,
98560	,
98561	,
98562	,
98563	,
98564	,
98565	,
98566	,
98568	,
98569	,
98570	,
98571	,
98572	,
98575	,
98576	,
98577	,
98579	,
98580	,
98582	,
98583	,
98584	,
98585	,
98586	,
98587	,
98588	,
98589	,
98590	,
98591	,
98592	,
98593	,
98595	,
98596	,
98597	,
98599	,
98614	,
98624	,
98631	,
98637	,
98638	,
98640	,
98641	,
98644	,
98801	,
98802	,
98807	,
98811	,
98813	,
98815	,
98816	,
98817	,
98821	,
98822	,
98826	,
98828	,
98830	,
98831	,
98836	,
98843	,
98845	,
98847	,
98850	,
98852	,
98858	];
const dma528 = [33001	,
33002	,
33004	,
33008	,
33009	,
33010	,
33011	,
33012	,
33013	,
33014	,
33015	,
33016	,
33017	,
33018	,
33019	,
33020	,
33021	,
33022	,
33023	,
33024	,
33025	,
33026	,
33027	,
33028	,
33029	,
33030	,
33031	,
33032	,
33033	,
33034	,
33035	,
33036	,
33037	,
33039	,
33040	,
33041	,
33042	,
33043	,
33045	,
33050	,
33051	,
33052	,
33054	,
33055	,
33056	,
33060	,
33061	,
33062	,
33063	,
33064	,
33065	,
33066	,
33067	,
33068	,
33069	,
33070	,
33071	,
33072	,
33073	,
33074	,
33075	,
33076	,
33077	,
33081	,
33082	,
33083	,
33084	,
33090	,
33092	,
33093	,
33097	,
33101	,
33102	,
33107	,
33109	,
33110	,
33111	,
33112	,
33114	,
33116	,
33119	,
33121	,
33122	,
33124	,
33125	,
33126	,
33127	,
33128	,
33129	,
33130	,
33131	,
33132	,
33133	,
33134	,
33135	,
33136	,
33137	,
33138	,
33139	,
33140	,
33141	,
33142	,
33143	,
33144	,
33145	,
33146	,
33147	,
33148	,
33149	,
33150	,
33151	,
33152	,
33153	,
33154	,
33155	,
33156	,
33157	,
33158	,
33159	,
33160	,
33161	,
33162	,
33163	,
33164	,
33165	,
33166	,
33167	,
33168	,
33169	,
33170	,
33172	,
33173	,
33174	,
33175	,
33176	,
33177	,
33178	,
33179	,
33180	,
33181	,
33182	,
33183	,
33184	,
33185	,
33186	,
33187	,
33188	,
33189	,
33190	,
33193	,
33194	,
33195	,
33196	,
33197	,
33199	,
33222	,
33231	,
33233	,
33234	,
33238	,
33239	,
33242	,
33243	,
33245	,
33247	,
33255	,
33256	,
33257	,
33261	,
33265	,
33266	,
33269	,
33280	,
33283	,
33296	,
33299	,
33301	,
33302	,
33303	,
33304	,
33305	,
33306	,
33307	,
33308	,
33309	,
33310	,
33311	,
33312	,
33313	,
33314	,
33315	,
33316	,
33317	,
33318	,
33319	,
33320	,
33321	,
33322	,
33323	,
33324	,
33325	,
33326	,
33327	,
33328	,
33329	,
33330	,
33331	,
33332	,
33334	,
33335	,
33336	,
33337	,
33338	,
33339	,
33340	,
33345	,
33346	,
33348	,
33349	,
33351	,
33355	,
33359	,
33388	,
33394	,
33441	,
33442	,
33443	,
34141	];
const dma751 = [69121	,
69122	,
69127	,
69128	,
69129	,
69131	,
69133	,
69135	,
69141	,
69144	,
69145	,
69146	,
69147	,
69148	,
69149	,
69152	,
69153	,
69154	,
69155	,
69156	,
69160	,
69162	,
69190	,
69201	,
69211	,
69212	,
69216	,
69218	,
69219	,
69220	,
69221	,
69301	,
69333	,
69335	,
69337	,
69339	,
69340	,
69343	,
69345	,
69347	,
69348	,
69350	,
69351	,
69354	,
69360	,
69365	,
69366	,
69367	,
80001	,
80002	,
80003	,
80004	,
80005	,
80006	,
80007	,
80010	,
80011	,
80012	,
80013	,
80014	,
80015	,
80016	,
80017	,
80018	,
80019	,
80020	,
80021	,
80022	,
80023	,
80024	,
80025	,
80026	,
80027	,
80028	,
80030	,
80031	,
80033	,
80034	,
80035	,
80036	,
80037	,
80038	,
80040	,
80041	,
80042	,
80044	,
80045	,
80046	,
80047	,
80101	,
80102	,
80103	,
80104	,
80105	,
80107	,
80108	,
80109	,
80110	,
80111	,
80112	,
80113	,
80116	,
80117	,
80118	,
80120	,
80121	,
80122	,
80123	,
80124	,
80125	,
80126	,
80127	,
80128	,
80129	,
80130	,
80131	,
80134	,
80135	,
80136	,
80137	,
80138	,
80150	,
80151	,
80155	,
80160	,
80161	,
80162	,
80163	,
80165	,
80166	,
80201	,
80202	,
80203	,
80204	,
80205	,
80206	,
80207	,
80208	,
80209	,
80210	,
80211	,
80212	,
80214	,
80215	,
80216	,
80217	,
80218	,
80219	,
80220	,
80221	,
80222	,
80223	,
80224	,
80225	,
80226	,
80227	,
80228	,
80229	,
80230	,
80231	,
80232	,
80233	,
80234	,
80235	,
80236	,
80237	,
80238	,
80239	,
80241	,
80243	,
80244	,
80246	,
80247	,
80248	,
80249	,
80250	,
80251	,
80252	,
80256	,
80257	,
80259	,
80260	,
80261	,
80262	,
80263	,
80264	,
80265	,
80266	,
80271	,
80273	,
80274	,
80279	,
80280	,
80281	,
80290	,
80291	,
80293	,
80294	,
80295	,
80299	,
80301	,
80302	,
80303	,
80304	,
80305	,
80306	,
80307	,
80308	,
80309	,
80310	,
80314	,
80321	,
80322	,
80323	,
80328	,
80329	,
80401	,
80402	,
80403	,
80419	,
80420	,
80421	,
80422	,
80423	,
80424	,
80425	,
80426	,
80427	,
80428	,
80429	,
80430	,
80432	,
80433	,
80434	,
80435	,
80436	,
80437	,
80438	,
80439	,
80440	,
80442	,
80443	,
80444	,
80446	,
80447	,
80448	,
80449	,
80451	,
80452	,
80453	,
80454	,
80455	,
80456	,
80457	,
80459	,
80461	,
80463	,
80465	,
80466	,
80467	,
80468	,
80469	,
80470	,
80471	,
80473	,
80474	,
80475	,
80476	,
80477	,
80478	,
80479	,
80480	,
80481	,
80482	,
80483	,
80487	,
80488	,
80497	,
80498	,
80501	,
80502	,
80503	,
80504	,
80510	,
80511	,
80512	,
80513	,
80514	,
80515	,
80516	,
80517	,
80520	,
80521	,
80522	,
80523	,
80524	,
80525	,
80526	,
80527	,
80528	,
80530	,
80532	,
80533	,
80534	,
80535	,
80536	,
80537	,
80538	,
80539	,
80540	,
80541	,
80542	,
80543	,
80544	,
80545	,
80546	,
80547	,
80549	,
80550	,
80551	,
80553	,
80601	,
80602	,
80603	,
80610	,
80611	,
80612	,
80614	,
80615	,
80620	,
80621	,
80622	,
80623	,
80624	,
80631	,
80632	,
80633	,
80634	,
80638	,
80639	,
80640	,
80642	,
80643	,
80644	,
80645	,
80646	,
80648	,
80649	,
80650	,
80651	,
80652	,
80653	,
80654	,
80701	,
80705	,
80720	,
80721	,
80722	,
80723	,
80726	,
80727	,
80728	,
80729	,
80731	,
80732	,
80733	,
80734	,
80735	,
80736	,
80737	,
80740	,
80741	,
80742	,
80743	,
80744	,
80745	,
80746	,
80747	,
80749	,
80750	,
80751	,
80754	,
80755	,
80757	,
80758	,
80759	,
80801	,
80802	,
80804	,
80805	,
80807	,
80810	,
80812	,
80815	,
80818	,
80820	,
80821	,
80822	,
80823	,
80824	,
80825	,
80826	,
80827	,
80828	,
80830	,
80834	,
80835	,
80836	,
80861	,
80862	,
81041	,
81043	,
81047	,
81052	,
81092	,
81101	,
81102	,
81120	,
81121	,
81123	,
81124	,
81125	,
81126	,
81127	,
81128	,
81129	,
81130	,
81131	,
81132	,
81133	,
81134	,
81135	,
81136	,
81138	,
81140	,
81141	,
81143	,
81144	,
81146	,
81147	,
81148	,
81149	,
81151	,
81152	,
81153	,
81154	,
81155	,
81157	,
81201	,
81210	,
81211	,
81224	,
81225	,
81227	,
81228	,
81230	,
81231	,
81235	,
81236	,
81237	,
81239	,
81241	,
81242	,
81243	,
81248	,
81251	,
81320	,
81324	,
81325	,
81332	,
81410	,
81413	,
81414	,
81415	,
81416	,
81418	,
81419	,
81420	,
81423	,
81426	,
81427	,
81428	,
81430	,
81432	,
81433	,
81434	,
81435	,
81601	,
81602	,
81610	,
81611	,
81612	,
81615	,
81620	,
81621	,
81623	,
81625	,
81626	,
81631	,
81632	,
81633	,
81635	,
81636	,
81637	,
81638	,
81639	,
81640	,
81641	,
81642	,
81645	,
81647	,
81648	,
81649	,
81650	,
81652	,
81653	,
81654	,
81655	,
81656	,
81657	,
81658	,
82051	,
82052	,
82055	,
82058	,
82063	,
82070	,
82071	,
82072	,
82073	,
82083	,
82084	,
82201	,
82210	,
82213	,
82214	,
82215	,
82222	,
82225	,
82227	,
82242	,
82301	,
82321	,
82323	,
82324	,
82325	,
82327	,
82329	,
82331	,
82332	,
82334	,
82335	,
82615	,
82639	,
82640	,
82716	,
82717	,
82718	,
82725	,
82727	,
82731	,
82732	,
82834	,
82840	];

const dma524 = [28902	,
28904	,
28909	,
30002	,
30003	,
30004	,
30005	,
30006	,
30007	,
30008	,
30009	,
30010	,
30011	,
30012	,
30013	,
30014	,
30015	,
30016	,
30017	,
30018	,
30019	,
30021	,
30022	,
30023	,
30024	,
30025	,
30026	,
30028	,
30030	,
30031	,
30032	,
30033	,
30034	,
30035	,
30036	,
30037	,
30038	,
30039	,
30040	,
30041	,
30042	,
30043	,
30044	,
30045	,
30046	,
30047	,
30048	,
30049	,
30052	,
30054	,
30055	,
30056	,
30058	,
30060	,
30061	,
30062	,
30063	,
30064	,
30065	,
30066	,
30067	,
30068	,
30069	,
30070	,
30071	,
30072	,
30073	,
30074	,
30075	,
30076	,
30077	,
30078	,
30079	,
30080	,
30081	,
30082	,
30083	,
30084	,
30085	,
30086	,
30087	,
30088	,
30090	,
30091	,
30092	,
30093	,
30094	,
30095	,
30096	,
30097	,
30098	,
30099	,
30101	,
30102	,
30103	,
30104	,
30105	,
30106	,
30107	,
30108	,
30109	,
30110	,
30111	,
30112	,
30113	,
30114	,
30115	,
30116	,
30117	,
30118	,
30119	,
30120	,
30121	,
30122	,
30123	,
30124	,
30125	,
30126	,
30127	,
30129	,
30132	,
30133	,
30134	,
30135	,
30137	,
30138	,
30139	,
30140	,
30141	,
30142	,
30143	,
30144	,
30145	,
30146	,
30147	,
30148	,
30149	,
30150	,
30151	,
30152	,
30153	,
30154	,
30156	,
30157	,
30160	,
30161	,
30162	,
30163	,
30164	,
30165	,
30168	,
30169	,
30170	,
30171	,
30172	,
30173	,
30175	,
30176	,
30177	,
30178	,
30179	,
30180	,
30182	,
30183	,
30184	,
30185	,
30187	,
30188	,
30189	,
30204	,
30205	,
30206	,
30212	,
30213	,
30214	,
30215	,
30216	,
30217	,
30218	,
30219	,
30220	,
30222	,
30223	,
30224	,
30228	,
30229	,
30230	,
30233	,
30234	,
30236	,
30237	,
30238	,
30240	,
30241	,
30248	,
30250	,
30251	,
30252	,
30253	,
30256	,
30257	,
30258	,
30259	,
30260	,
30261	,
30263	,
30264	,
30265	,
30266	,
30268	,
30269	,
30270	,
30271	,
30272	,
30273	,
30274	,
30275	,
30276	,
30277	,
30281	,
30284	,
30285	,
30286	,
30287	,
30288	,
30289	,
30290	,
30291	,
30292	,
30293	,
30294	,
30295	,
30296	,
30297	,
30298	,
30301	,
30302	,
30303	,
30304	,
30305	,
30306	,
30307	,
30308	,
30309	,
30310	,
30311	,
30312	,
30313	,
30314	,
30315	,
30316	,
30317	,
30318	,
30319	,
30320	,
30321	,
30322	,
30324	,
30325	,
30326	,
30327	,
30328	,
30329	,
30330	,
30331	,
30332	,
30333	,
30334	,
30336	,
30337	,
30338	,
30339	,
30340	,
30341	,
30342	,
30343	,
30344	,
30345	,
30346	,
30347	,
30348	,
30349	,
30350	,
30353	,
30354	,
30355	,
30356	,
30357	,
30358	,
30359	,
30360	,
30361	,
30362	,
30363	,
30364	,
30366	,
30368	,
30369	,
30370	,
30371	,
30374	,
30375	,
30377	,
30380	,
30384	,
30385	,
30386	,
30387	,
30388	,
30389	,
30390	,
30392	,
30396	,
30398	,
30399	,
30501	,
30502	,
30503	,
30504	,
30506	,
30507	,
30510	,
30511	,
30512	,
30513	,
30514	,
30515	,
30517	,
30518	,
30519	,
30522	,
30523	,
30525	,
30527	,
30528	,
30529	,
30530	,
30531	,
30533	,
30534	,
30535	,
30536	,
30537	,
30539	,
30540	,
30541	,
30542	,
30543	,
30544	,
30545	,
30546	,
30547	,
30548	,
30549	,
30552	,
30554	,
30555	,
30558	,
30559	,
30560	,
30562	,
30563	,
30564	,
30565	,
30566	,
30567	,
30568	,
30571	,
30572	,
30573	,
30575	,
30576	,
30580	,
30581	,
30582	,
30596	,
30597	,
30599	,
30601	,
30602	,
30603	,
30604	,
30605	,
30606	,
30607	,
30608	,
30609	,
30612	,
30619	,
30620	,
30621	,
30622	,
30623	,
30625	,
30627	,
30628	,
30629	,
30630	,
30633	,
30638	,
30641	,
30642	,
30645	,
30646	,
30647	,
30648	,
30650	,
30655	,
30656	,
30663	,
30665	,
30666	,
30667	,
30669	,
30671	,
30677	,
30678	,
30680	,
30683	,
30701	,
30703	,
30730	,
30731	,
30732	,
30733	,
30734	,
30735	,
30746	,
30747	,
30753	,
31024	,
31026	,
31038	,
31064	,
31085	,
31097	,
31106	,
31107	,
31119	,
31120	,
31126	,
31131	,
31136	,
31139	,
31141	,
31145	,
31146	,
31150	,
31156	,
31192	,
31193	,
31196	,
31197	,
31198	,
31199	,
31816	,
31830	,
31833	,
36261	,
36262	,
36263	,
36264	,
36269	,
36273	,
36274	,
36276	,
36278	,
36280	,
39901	];

//mapping
var zipcodeDMA = 999
//hardcoded zipcode as an example below, can use the variable
if(dma819.includes(zipcode)){
  zipcodeDMA = 819;
}
else if(dma528.includes(zipcode)){
  zipcodeDMA = 528;
}
else if(dma751.includes(zipcode)){
  zipcodeDMA = 751;
}
else if(dma524.includes(zipcode)){
  zipcodeDMA = 524;
}
console.log(zipcodeDMA); 
return zipcodeDMA; 
//Probably just need the last line, used console.log as test of logic 
}

Qualtrics.SurveyEngine.addOnPageSubmit(function(){
var questionId = this.questionId;
var zipcode = getSelectedValue(questionId, 1);
var zipcodeDMA = calcDMA(zipcode);

Qualtrics.SurveyEngine.setEmbeddedData('zipcodeDMA', calcDMA(zipcode));
Qualtrics.SurveyEngine.setEmbeddedData('zipcode', zipcode);
})
